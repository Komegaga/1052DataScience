system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
set.seed(1)
df <- data.frame(col1=runif(100), col2=runif(100))
rownames(df[apply(df, 2, which.max), ])
row.names(df) <- paste0("row", 1:100)
rownames(df[apply(df, 2, which.max), ])
df
df <- data.frame(col1=runif(100), col2=runif(100))
df
df
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
df
rownames(df[apply(df, 2, which.max), ])
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
?apply
?sapply
?sapply
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
DF <- data.frame(V1=c(2,8,1),V2=c(7,3,5),V3=c(7,6,4))
DF
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
clear
?gsub
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
?gsub
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
set.seed(123515)
d <- rbind( 	# Note: 1
data.frame(group='A',converted=rbinom(100000,size=1,p=0.05)), 	# Note: 2
data.frame(group='B',converted=rbinom(10000,size=1,p=0.055)) 	# Note: 3
)
d
tab <- table(d)
print(tab)
fisher.test(tab)
fisher.test(tab)
d <- rbind( 	# Note: 1
data.frame(group='A',converted=rbinom(100000,size=1,p=0.05)), 	# Note: 2
data.frame(group='B',converted=rbinom(10000,size=1,p=0.055)) 	# Note: 3
)
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
?fisher.test
?fisher.test
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
?table
?table
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
set.seed(123515)
d <- rbind( 	# Note: 1
data.frame(group='A',converted=rbinom(100000,size=1,p=0.05)), 	# Note: 2
data.frame(group='B',converted=rbinom(10000,size=1,p=0.055)) 	# Note: 3
)
d
tab <- table(d)
print(tab)
fisher.test(tab)
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method3.csv --out result.csv")
setwd("~/Google 雲端硬碟/Graduate/1052/DataScience/1052DataScience/ass2")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
setwd("~/Google 雲端硬碟/Graduate/1052/DataScience/1052DataScience/ass3")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
files <- c("method1.csv","method2.csv","method3.csv")
names<-c()
sens<-c()
spes<-c()
F1s<-c()
AUCs<-c()
for(file in files)
{
name<-gsub(".csv", "", basename(file))
d<-read.table(file, header=T,sep=",")
if(query_m == "male"){
cM <- table(truth=d$reference, prediction=d$prediction)
sensitivity <- round ( cM[2, 2] / (cM[2, 1] + cM[2, 2]), digits = 2)
specificity <- round ( cM[1, 1] / (cM[1, 1] + cM[1, 2]), digits = 2)
precision <- round ( cM[2, 2] / (cM[1, 2] + cM[2, 2]), digits = 2)
F1 <- round ( 2 *  precision * sensitivity / (precision + sensitivity), digits = 2)
# AUC evaluation
library('ROCR')
eval <- prediction(d$pred.score,d$reference)
AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
}
else if (query_m == "female") {
cM <- table(truth=d$reference, prediction=d$prediction)
sensitivity <- round (cM[1, 1] / (cM[1, 2] + cM[1, 1]), digits = 2)
specificity <- round (cM[2, 2] / (cM[2, 1] + cM[2, 2]), digits = 2)
precision <- round (cM[1, 1] / (cM[1, 1] + cM[2, 1]), digits = 2)
F1 <- round (2 *  precision * sensitivity / (precision + sensitivity), digits = 2)
# AUC evaluation
library('ROCR')
eval <- prediction(1 - d$pred.score,d$reference)
AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
} else {
stop(paste("ERROR: unknown query function", query_m))
}
# AUC evaluation
#  library('ROCR')
#  eval <- prediction(d$pred.score,d$reference)
#  AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
sens<-c(sens, sensitivity)
spes<-c(spes, specificity)
F1s<-c(F1s, F1)
AUCs<-c(AUCs, AUC)
names<-c(names,name)
}
query_m <- "male"
for(file in files)
{
name<-gsub(".csv", "", basename(file))
d<-read.table(file, header=T,sep=",")
if(query_m == "male"){
cM <- table(truth=d$reference, prediction=d$prediction)
sensitivity <- round ( cM[2, 2] / (cM[2, 1] + cM[2, 2]), digits = 2)
specificity <- round ( cM[1, 1] / (cM[1, 1] + cM[1, 2]), digits = 2)
precision <- round ( cM[2, 2] / (cM[1, 2] + cM[2, 2]), digits = 2)
F1 <- round ( 2 *  precision * sensitivity / (precision + sensitivity), digits = 2)
# AUC evaluation
library('ROCR')
eval <- prediction(d$pred.score,d$reference)
AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
}
else if (query_m == "female") {
cM <- table(truth=d$reference, prediction=d$prediction)
sensitivity <- round (cM[1, 1] / (cM[1, 2] + cM[1, 1]), digits = 2)
specificity <- round (cM[2, 2] / (cM[2, 1] + cM[2, 2]), digits = 2)
precision <- round (cM[1, 1] / (cM[1, 1] + cM[2, 1]), digits = 2)
F1 <- round (2 *  precision * sensitivity / (precision + sensitivity), digits = 2)
# AUC evaluation
library('ROCR')
eval <- prediction(1 - d$pred.score,d$reference)
AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
} else {
stop(paste("ERROR: unknown query function", query_m))
}
# AUC evaluation
#  library('ROCR')
#  eval <- prediction(d$pred.score,d$reference)
#  AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
sens<-c(sens, sensitivity)
spes<-c(spes, specificity)
F1s<-c(F1s, F1)
AUCs<-c(AUCs, AUC)
names<-c(names,name)
}
out_data<-data.frame("method"=names, "sensitivity"=sens, "specificity"=spes, "F1"=F1s, "AUC"=AUCs, stringsAsFactors = F)
B <- out_data[which.max(out_data$F1),]
b <- paste(B$method , ".csv", sep = "")
A <- out_data[-which.max(out_data$F1),]
a <- paste(A$method , ".csv", sep = "")
AB_tests <- c(a, b)
data_a <- read.table(a, header=T,sep=",")
data_b <- read.table(b, header=T,sep=",")
data_a <- read.table(a, header=T,sep=",")
data_b <- read.table(b, header=T,sep=",")
data_a <- read.csv(a, header=T,sep=",")
a
b
A <- out_data[which.max(-which.max(out_data$F1)),]
a <- paste(A$method , ".csv", sep = "")
a
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
?fisher.test
set.seed(123515)
d <- rbind( 	# Note: 1
data.frame(group='A',converted=rbinom(100000,size=1,p=0.05)), 	# Note: 2
data.frame(group='B',converted=rbinom(10000,size=1,p=0.055)) 	# Note: 3
)
tab <- table(d)
print(tab)
fisher.test(tab)
＃observed A and B rates
(aConversionRate <- tab['A','1']/sum(tab['A',]))
(bConversionRate <- tab['B','1']/sum(tab['B',]))
(commonRate <- sum(tab[,'1'])/sum(tab))
print(pbinom(
lower.tail=F,
q=tab['B','1']-1,
size=sum(tab['B',]),
prob=commonRate
))
print(pbinom(
lower.tail=F,
q=tab['B','1']-1,
size=sum(tab['B',]),
prob=commonRate
))
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
set.seed(123515)
d <- rbind( 	# Note: 1
data.frame(group='A',converted=rbinom(100000,size=1,p=0.05)), 	# Note: 2
data.frame(group='B',converted=rbinom(10000,size=1,p=0.055)) 	# Note: 3
)
d[1,1]
d
d[-1,1]
d[,1]
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
?names
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
?character
?replace
?replace
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method5.csv method3.csv method4.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method5.csv method6.csv method4.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method5.csv method9.csv method4.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method10.csv method5.csv method9.csv method4.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method10.csv method3.csv method9.csv method4.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method10.csv method3.csv method7.csv method4.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method10.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method2.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method1.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method2.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method3.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method4.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method6.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method9.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method10.csv method3.csv method7.csv method8.csv --out result.csv")
system("Rscript hw2_105753032.R --target male --files method10.csv method3.csv method7.csv method8.csv --out result.csv")
library(ggplot2)
library(dplyr)
smaller <- diamonds %>%
filter(carat <= 2.5)
smaller %>%
ggplot(aes(carat)) +
geom_freqpoly(binwidth = 0.01)
library(ggplot2)
library(dplyr)
smaller <- diamonds %>%
filter(carat <= 2.5)
x<-1
good <- function() { x <- 5}
good()
print(x)
bad <- function() { x <<- 5}
bad()
print(x)
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method5.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method7.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method8.csv method3.csv --out result.csv")
set.seed(123515)
d <- rbind( 	# Note: 1
data.frame(group='A',converted=rbinom(100000,size=1,p=0.05)), 	# Note: 2
data.frame(group='B',converted=rbinom(10000,size=1,p=0.055)) 	# Note: 3
)
tab <- table(d)
print(tab)
system("Rscript hw3_105753036.R --target male --files methods/method6.csv methods/method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files methods/method6.csv methods/method7.csv --out result.csv")
set.seed(123515)
d <- rbind( 	# Note: 1
data.frame(group='A',converted=rbinom(100000,size=1,p=0.05)), 	# Note: 2
data.frame(group='B',converted=rbinom(10000,size=1,p=0.055)) 	# Note: 3
)
d
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method4.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method4.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method6.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method6.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method2.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method2.csv method4.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method4.csv method1.csv --out result.csv")
system("Rscript hw3_105753036.R --target male --files methods/method6.csv methods/method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method5.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method6.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method3.csv method7.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method3.csv method5.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method5.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method5.csv method3.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method5.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
query_m <- "male"
files <- c("method1.csv","method2.csv","method3.csv","method4.csv","method5.csv","method6.csv","method7.csv","method8.csv","method9.csv","method10.csv")
names<-c()
sens<-c()
spes<-c()
F1s<-c()
AUCs<-c()
for(file in files)
{
name<-gsub(".csv", "", basename(file))
d<-read.table(file, header=T,sep=",")
if(query_m == "male"){
cM <- table(truth=d$reference, prediction=d$prediction)
sensitivity <- round ( cM[2, 2] / (cM[2, 1] + cM[2, 2]), digits = 2)
specificity <- round ( cM[1, 1] / (cM[1, 1] + cM[1, 2]), digits = 2)
precision <- round ( cM[2, 2] / (cM[1, 2] + cM[2, 2]), digits = 2)
F1 <- round ( 2 *  precision * sensitivity / (precision + sensitivity), digits = 2)
# AUC evaluation
library('ROCR')
eval <- prediction(d$pred.score,d$reference)
AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
}
else if (query_m == "female") {
cM <- table(truth=d$reference, prediction=d$prediction)
sensitivity <- round (cM[1, 1] / (cM[1, 2] + cM[1, 1]), digits = 2)
specificity <- round (cM[2, 2] / (cM[2, 1] + cM[2, 2]), digits = 2)
precision <- round (cM[1, 1] / (cM[1, 1] + cM[2, 1]), digits = 2)
F1 <- round (2 *  precision * sensitivity / (precision + sensitivity), digits = 2)
# AUC evaluation
library('ROCR')
eval <- prediction(d$pred.score,d$reference)
AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
} else {
stop(paste("ERROR: unknown query function", query_m))
}
# AUC evaluation
#  library('ROCR')
#  eval <- prediction(d$pred.score,d$reference)
#  AUC <- round(attributes(performance(eval,'auc'))$y.values[[1]], digits = 2)
sens<-c(sens, sensitivity)
spes<-c(spes, specificity)
F1s<-c(F1s, F1)
AUCs<-c(AUCs, AUC)
names<-c(names,name)
}
out_data<-data.frame("method"=names, "sensitivity"=sens, "specificity"=spes, "F1"=F1s, "AUC"=AUCs, stringsAsFactors = F)
B <- out_data[which.max(out_data$F1),]
b <- paste(B$method , ".csv", sep = "")
A <- out_data[-which.max(out_data$F1),]
a <- paste(A$method , ".csv", sep = "")
AB_tests <- c(a, b)
data_a <- read.csv(a, header=T,sep=",")
data_b <- read.csv(b, header=T,sep=",")
a
b
A <- which.max(out_data[-which.max(out_data$F1),])
A <- out_data[-which.max(out_data$F1),]
A
A <- A[which.max(A$F1)]
a <- paste(A$method , ".csv", sep = "")
AB_tests <- c(a, b)
data_a <- read.csv(a, header=T,sep=",")
data_b <- read.csv(b, header=T,sep=",")
a
A
A_left <- out_data[which.max(out_data$F1),]
A <- A[which.max(A$F1)]
A_left <- out_data[which.max(out_data$F1),]
A <- A[which.max(A$F1)]
A <- A_left[which.max(A_left$F1)]
a <- paste(A$method , ".csv", sep = "")
AB_tests <- c(a, b)
data_a <- read.csv(a, header=T,sep=",")
data_b <- read.csv(b, header=T,sep=",")
files <- c("method1.csv","method2.csv","method3.csv","method4.csv","method5.csv","method6.csv","method7.csv","method8.csv","method9.csv","method10.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target female --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target female --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target female --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method9.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target female --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method10.csv --out result.csv")
system("Rscript hw3_105753032.R --target male --files method5.csv method1.csv --out result.csv")
system("Rscript hw3_105753032.R --target female --files method1.csv method2.csv method3.csv method4.csv method5.csv method6.csv method7.csv method8.csv method10.csv --out result.csv")
